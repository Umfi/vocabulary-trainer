(self["webpackChunkvocabulary_trainer"]=self["webpackChunkvocabulary_trainer"]||[]).push([[224],{9341:(t,e,n)=>{"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},1589:(t,e,n)=>{var r=n(1400),o=n(6244),i=n(6135),s=Array,a=Math.max;t.exports=function(t,e,n){for(var u=o(t),d=r(e,u),l=r(void 0===n?u:n,u),c=s(a(l-d,0)),h=0;d<l;d++,h++)i(c,h,t[d]);return c.length=h,c}},4362:(t,e,n)=>{var r=n(1589),o=Math.floor,i=function(t,e){var n=t.length,u=o(n/2);return n<8?s(t,e):a(t,i(r(t,0,u),e),i(r(t,u),e),e)},s=function(t,e){var n,r,o=t.length,i=1;while(i<o){r=i,n=t[i];while(r&&e(t[r-1],n)>0)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},a=function(t,e,n,r){var o=e.length,i=n.length,s=0,a=0;while(s<o||a<i)t[s+a]=s<o&&a<i?r(e[s],n[a])<=0?e[s++]:n[a++]:s<o?e[s++]:n[a++];return t};t.exports=i},6135:(t,e,n)=>{"use strict";var r=n(4948),o=n(3070),i=n(9114);t.exports=function(t,e,n){var s=r(e);s in t?o.f(t,s,i(0,n)):t[s]=n}},5117:(t,e,n)=>{"use strict";var r=n(6330),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw o("Cannot delete property "+r(e)+" of "+r(t))}},8886:(t,e,n)=>{var r=n(8113),o=r.match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},256:(t,e,n)=>{var r=n(8113);t.exports=/MSIE|Trident/.test(r)},8008:(t,e,n)=>{var r=n(8113),o=r.match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},2707:(t,e,n)=>{"use strict";var r=n(2109),o=n(1702),i=n(9662),s=n(7908),a=n(6244),u=n(5117),d=n(1340),l=n(7293),c=n(4362),h=n(9341),f=n(8886),w=n(256),p=n(7392),m=n(8008),g=[],v=o(g.sort),$=o(g.push),_=l((function(){g.sort(void 0)})),y=l((function(){g.sort(null)})),M=h("sort"),W=!l((function(){if(p)return p<70;if(!(f&&f>3)){if(w)return!0;if(m)return m<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:e+r,v:n})}for(g.sort((function(t,e){return e.v-t.v})),r=0;r<g.length;r++)e=g[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}})),I=_||!y||!M||!W,x=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:d(e)>d(n)?1:-1}};r({target:"Array",proto:!0,forced:I},{sort:function(t){void 0!==t&&i(t);var e=s(this);if(W)return void 0===t?v(e):v(e,t);var n,r,o=[],d=a(e);for(r=0;r<d;r++)r in e&&$(o,e[r]);c(o,x(t)),n=a(o),r=0;while(r<n)e[r]=o[r++];while(r<d)u(e,r++);return e}})},7484:function(t){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",o="second",i="minute",s="hour",a="day",u="week",d="month",l="quarter",c="year",h="date",f="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},g=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},v={s:g,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+g(r,2,"0")+":"+g(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(r,d),i=n-o<0,s=e.clone().add(r+(i?-1:1),d);return+(-(r+(n-o)/(i?o-s:s-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:d,y:c,w:u,d:a,D:h,h:s,m:i,s:o,ms:r,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},$="en",_={};_[$]=m;var y=function(t){return t instanceof x},M=function t(e,n,r){var o;if(!e)return $;if("string"==typeof e){var i=e.toLowerCase();_[i]&&(o=i),n&&(_[i]=n,o=i);var s=e.split("-");if(!o&&s.length>1)return t(s[0])}else{var a=e.name;_[a]=e,o=a}return!r&&o&&($=o),o||!r&&$},W=function(t,e){if(y(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new x(n)},I=v;I.l=M,I.i=y,I.w=function(t,e){return W(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var x=function(){function m(t){this.$L=M(t.locale,null,!0),this.parse(t)}var g=m.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(I.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(w);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return I},g.isValid=function(){return!(this.$d.toString()===f)},g.isSame=function(t,e){var n=W(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return W(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<W(t)},g.$g=function(t,e,n){return I.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,r=!!I.u(e)||e,l=I.p(t),f=function(t,e){var o=I.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?o:o.endOf(a)},w=function(t,e){return I.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},p=this.$W,m=this.$M,g=this.$D,v="set"+(this.$u?"UTC":"");switch(l){case c:return r?f(1,0):f(31,11);case d:return r?f(1,m):f(0,m+1);case u:var $=this.$locale().weekStart||0,_=(p<$?p+7:p)-$;return f(r?g-_:g+(6-_),m);case a:case h:return w(v+"Hours",0);case s:return w(v+"Minutes",1);case i:return w(v+"Seconds",2);case o:return w(v+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var n,u=I.p(t),l="set"+(this.$u?"UTC":""),f=(n={},n[a]=l+"Date",n[h]=l+"Date",n[d]=l+"Month",n[c]=l+"FullYear",n[s]=l+"Hours",n[i]=l+"Minutes",n[o]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],w=u===a?this.$D+(e-this.$W):e;if(u===d||u===c){var p=this.clone().set(h,1);p.$d[f](w),p.init(),this.$d=p.set(h,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](w);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[I.p(t)]()},g.add=function(r,l){var h,f=this;r=Number(r);var w=I.p(l),p=function(t){var e=W(f);return I.w(e.date(e.date()+Math.round(t*r)),f)};if(w===d)return this.set(d,this.$M+r);if(w===c)return this.set(c,this.$y+r);if(w===a)return p(1);if(w===u)return p(7);var m=(h={},h[i]=e,h[s]=n,h[o]=t,h)[w]||1,g=this.$d.getTime()+r*m;return I.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=t||"YYYY-MM-DDTHH:mm:ssZ",o=I.z(this),i=this.$H,s=this.$m,a=this.$M,u=n.weekdays,d=n.months,l=function(t,n,o,i){return t&&(t[n]||t(e,r))||o[n].slice(0,i)},c=function(t){return I.s(i%12||12,t,"0")},h=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},w={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:I.s(a+1,2,"0"),MMM:l(n.monthsShort,a,d,3),MMMM:l(d,a),D:this.$D,DD:I.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:I.s(i,2,"0"),h:c(1),hh:c(2),a:h(i,s,!0),A:h(i,s,!1),m:String(s),mm:I.s(s,2,"0"),s:String(this.$s),ss:I.s(this.$s,2,"0"),SSS:I.s(this.$ms,3,"0"),Z:o};return r.replace(p,(function(t,e){return e||w[t]||o.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,h,f){var w,p=I.p(h),m=W(r),g=(m.utcOffset()-this.utcOffset())*e,v=this-m,$=I.m(this,m);return $=(w={},w[c]=$/12,w[d]=$,w[l]=$/3,w[u]=(v-g)/6048e5,w[a]=(v-g)/864e5,w[s]=v/n,w[i]=v/e,w[o]=v/t,w)[p]||v,f?$:I.a($)},g.daysInMonth=function(){return this.endOf(d).$D},g.$locale=function(){return _[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=M(t,e,!0);return r&&(n.$L=r),n},g.clone=function(){return I.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),b=x.prototype;return W.prototype=b,[["$ms",r],["$s",o],["$m",i],["$H",s],["$W",a],["$M",d],["$y",c],["$D",h]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),W.extend=function(t,e){return t.$i||(t(e,x,W),t.$i=!0),W},W.locale=M,W.isDayjs=y,W.unix=function(t){return W(1e3*t)},W.en=_[$],W.Ls=_,W.p={},W}))},3093:(t,e,n)=>{"use strict";n.d(e,{GY:()=>u,VV:()=>l,X9:()=>d,li:()=>c,rX:()=>h});n(1703),n(7658);var r=n(8717),o=n(6065),i=n(9796),s=n(7484),a=n.n(s);async function u(t,e){const n=await(0,o.ow)(),r=n.findIndex((e=>e.id==t));if(-1==r)throw new Error("Box not found");const i=n[r].vocables.findIndex((t=>t.id==e));if(-1==i)throw new Error("Vocable not found");return n[r].vocables[i]}async function d(t,e,n){const s=await(0,o.ow)(),u=s.findIndex((e=>e.id==t));if(-1==u)throw new Error("Box not found");const d=i.V.v4(),l={id:d,boxId:t,native:n,foreign:e,interval:0,repetition:0,efactor:2.5,dueDate:a()(Date.now()).toISOString()};return s[u].vocables.push(l),await(0,r.c)().set("boxes",s),l}async function l(t,e){const n=await(0,o.ow)(),i=n.findIndex((e=>e.id==t));if(-1==i)throw new Error("Box not found");const s=n[i].vocables.findIndex((t=>t.id==e));if(-1==s)throw new Error("Vocable not found");n[i].vocables.splice(s,1),await(0,r.c)().set("boxes",n)}async function c(t,e){const n=await(0,o.ow)(),i=n.findIndex((e=>e.id==t));if(-1==i)throw new Error("Box not found");const s=n[i].vocables.findIndex((t=>t.id==e.id));if(-1==s)throw new Error("Vocable not found");n[i].vocables[s]=e,await(0,r.c)().set("boxes",n)}async function h(t,e){const n=await(0,o.ow)(),s=n.findIndex((e=>e.id==t));if(-1==s)throw new Error("Box not found");const u=[];for(let r=0;r<e.length;r++){const o=i.V.v4(),d={id:o,boxId:t,native:e[r].native,foreign:e[r].foreign,interval:0,repetition:0,efactor:2.5,dueDate:a()(Date.now()).toISOString()};n[s].vocables.push(d),u.push(d)}return await(0,r.c)().set("boxes",n),u}},3224:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>U});var r=n(6252),o=n(3577);const i=(0,r._)("br",null,null,-1),s=(0,r._)("br",null,null,-1);function a(t,e,n,a,u,d){const l=(0,r.up)("ion-title"),c=(0,r.up)("ion-progress-bar"),h=(0,r.up)("ion-toolbar"),f=(0,r.up)("ion-header"),w=(0,r.up)("LetterSort"),p=(0,r.up)("TypeMode"),m=(0,r.up)("QuizMode"),g=(0,r.up)("ion-card-content"),v=(0,r.up)("ion-card"),$=(0,r.up)("ion-card-title"),_=(0,r.up)("ion-card-header"),y=(0,r.up)("ion-button"),M=(0,r.up)("ion-footer"),W=(0,r.up)("ion-content"),I=(0,r.up)("ion-page");return(0,r.wg)(),(0,r.j4)(I,null,{default:(0,r.w5)((()=>[(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(t.$t("Practice")),1)])),_:1}),(0,r.Wm)(c,{value:t.progress},null,8,["value"])])),_:1})])),_:1}),(0,r.Wm)(W,{fullscreen:!0},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{collapse:"condense"},{default:(0,r.w5)((()=>[(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{size:"large"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(t.$t("Practice")),1)])),_:1})])),_:1})])),_:1}),t.done?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(v,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(g,null,{default:(0,r.w5)((()=>["LetterSort"==t.activeMode?((0,r.wg)(),(0,r.j4)(w,{key:t.currentWord.id+Math.random(),word:t.currentWord.native,solution:t.currentWord.foreign,onCorrect:t.correctAnswer,onWrong:t.wrongAnswer},null,8,["word","solution","onCorrect","onWrong"])):(0,r.kq)("",!0),"TypeMode"==t.activeMode?((0,r.wg)(),(0,r.j4)(p,{key:t.currentWord.id+Math.random(),word:t.currentWord.native,solution:t.currentWord.foreign,onCorrect:t.correctAnswer,onWrong:t.wrongAnswer},null,8,["word","solution","onCorrect","onWrong"])):(0,r.kq)("",!0),"QuizMode"==t.activeMode?((0,r.wg)(),(0,r.j4)(m,{key:t.currentWord.id+Math.random(),word:t.currentWord.native,solution:t.currentWord.foreign,answers:[t.currentWord.foreign,t.words[Math.floor(Math.random()*t.words.length)].foreign,t.words[Math.floor(Math.random()*t.words.length)].foreign,t.words[Math.floor(Math.random()*t.words.length)].foreign],onCorrect:t.correctAnswer,onWrong:t.wrongAnswer},null,8,["word","solution","answers","onCorrect","onWrong"])):(0,r.kq)("",!0)])),_:1})])),_:1})),t.done&&t.id?((0,r.wg)(),(0,r.j4)(v,{key:1,color:"primary"},{default:(0,r.w5)((()=>[(0,r.Wm)(_,null,{default:(0,r.w5)((()=>[(0,r.Wm)($,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(t.$t("Made it!")),1)])),_:1})])),_:1}),(0,r.Wm)(g,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(t.$t("You have practiced all vocables in this box."))+" ",1),i,(0,r.Uk)(" "+(0,o.zw)(t.$t("Correct"))+": "+(0,o.zw)(t.correct)+" ",1),s,(0,r.Uk)(" "+(0,o.zw)(t.$t("Wrong"))+": "+(0,o.zw)(t.wrong)+" ",1),(0,r.Wm)(M,{class:"ion-margin-top"},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{color:"light",class:"ion-float-end ion-margin-top ion-margin-bottom",fill:"outline",onClick:t.restart},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(t.$t("Restart")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):(0,r.kq)("",!0),t.done&&!t.id?((0,r.wg)(),(0,r.j4)(v,{key:2,color:"primary"},{default:(0,r.w5)((()=>[(0,r.Wm)(_,null,{default:(0,r.w5)((()=>[(0,r.Wm)($,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(t.$t("Made it!")),1)])),_:1})])),_:1}),(0,r.Wm)(g,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(t.$t("You have practiced all your vocables. Come back later to practice again.")),1)])),_:1})])),_:1})):(0,r.kq)("",!0)])),_:1})])),_:1})}n(2707);var u=n(286),d=n(9963);const l={class:"ion-text-wrap"};function c(t,e,n,i,s,a){const u=(0,r.up)("ion-label"),c=(0,r.up)("ion-item"),h=(0,r.up)("ion-button"),f=(0,r.up)("ion-col"),w=(0,r.up)("ion-row"),p=(0,r.up)("ion-grid");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",null,[(0,r.Wm)(c,{lines:"none"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{class:"ion-text-center ion-padding-top animate__animated animate__flipInX"},{default:(0,r.w5)((()=>[(0,r._)("h1",l,(0,o.zw)(t.word),1)])),_:1})])),_:1}),(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[(0,r.Wm)(f,{class:"ion-text-center"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.answer,((e,n)=>((0,r.wg)(),(0,r.j4)(h,{key:n,onClick:r=>t.removeAnswer(e,n),color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})]),(0,r.Wm)(p,{class:"animate__animated animate__delay-1s animate__flipInY",style:{"--animate-delay":"0.5s"}},{default:(0,r.w5)((()=>[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[(0,r.Wm)(f,{class:"ion-text-center"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.letters,((e,n)=>(0,r.wy)(((0,r.wg)(),(0,r.j4)(h,{key:n,onClick:r=>t.giveAnswer(e,n),color:"light"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e),1)])),_:2},1032,["onClick"])),[[d.F8," "!==e]]))),128))])),_:1})])),_:1})])),_:1})])}n(3948),n(7658);var h=n(8717);const f=(0,r.aZ)({name:"LetterSort",components:{IonGrid:u.jY,IonRow:u.Nd,IonCol:u.wI,IonButton:u.YG,IonLabel:u.Q$,IonItem:u.Ie},emits:["correct","wrong"],props:{word:{type:String,required:!0},solution:{type:String,required:!0},randomize:{type:Boolean,required:!1,default:!1}},data(){return{letters:[],answer:[]}},mounted(){if(this.letters=[...this.$props.solution],this.$props.randomize)for(let t=0;t<Math.floor(6*Math.random());t++)this.letters.push(this.getRandomLetter());this.letters.sort((()=>Math.random()-.5))},methods:{giveAnswer(t,e){const n=[...this.$props.solution];"undefined"!==typeof n[this.answer.length]&&" "===n[this.answer.length]&&this.answer.push(" "),this.answer.push(t),this.letters.splice(e,1),"undefined"!==typeof n[this.answer.length]&&" "===n[this.answer.length]&&this.answer.push(" "),this.answer.length==this.$props.solution.length&&this.checkAnswer()},removeAnswer(t,e){this.letters.push(t),this.answer.splice(e,1)},async checkAnswer(){const t=this.answer.join("").toLowerCase(),e=this.$props.solution.toLowerCase();if(t===e)this.$emit("correct");else{const t=await u.Cl.create({header:(0,h.i)().t("Wrong"),message:(0,h.i)().t("The correct answer is <b>x</b>",{x:this.$props.solution}),buttons:[{text:(0,h.i)().t("Okay"),role:"confirm",handler:()=>{this.$emit("wrong")}}]});await t.present()}},getRandomLetter(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return t.charAt(Math.floor(Math.random()*t.length))}}});var w=n(3744);const p=(0,w.Z)(f,[["render",c]]),m=p,g={class:"ion-text-wrap"};function v(t,e,n,i,s,a){const u=(0,r.up)("ion-label"),d=(0,r.up)("ion-item"),l=(0,r.up)("ion-input"),c=(0,r.up)("ion-col"),h=(0,r.up)("ion-row"),f=(0,r.up)("ion-button"),w=(0,r.up)("ion-grid");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",null,[(0,r.Wm)(d,{lines:"none"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{class:"ion-text-center ion-padding-top animate__animated animate__flipInX"},{default:(0,r.w5)((()=>[(0,r._)("h1",g,(0,o.zw)(t.word),1)])),_:1})])),_:1})]),(0,r.Wm)(w,{class:"animate__animated animate__delay-1s animate__flipInX",style:{"--animate-delay":"0.5s"}},{default:(0,r.w5)((()=>[(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Wm)(c,{class:"ion-text-center"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{"clear-input":!0,modelValue:t.answer,"onUpdate:modelValue":e[0]||(e[0]=e=>t.answer=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Wm)(c,{class:"ion-text-center"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{onClick:t.checkAnswer},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(t.$t("Check answer")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])}const $=(0,r.aZ)({name:"TypeMode",components:{IonGrid:u.jY,IonRow:u.Nd,IonCol:u.wI,IonButton:u.YG,IonLabel:u.Q$,IonItem:u.Ie,IonInput:u.pK},emits:["correct","wrong"],props:{word:{type:String,required:!0},solution:{type:String,required:!0}},data(){return{answer:""}},methods:{async checkAnswer(){const t=this.answer.toLowerCase().trim(),e=this.$props.solution.toLowerCase().trim();if(t===e)this.$emit("correct");else{const t=await u.Cl.create({header:(0,h.i)().t("Wrong"),message:(0,h.i)().t("The correct answer is <b>x</b>",{x:this.$props.solution}),buttons:[{text:(0,h.i)().t("Okay"),role:"confirm",handler:()=>{this.$emit("wrong")}}]});await t.present()}}}}),_=(0,w.Z)($,[["render",v]]),y=_,M={class:"ion-text-wrap"};function W(t,e,n,i,s,a){const u=(0,r.up)("ion-label"),d=(0,r.up)("ion-item"),l=(0,r.up)("ion-button"),c=(0,r.up)("ion-col"),h=(0,r.up)("ion-row"),f=(0,r.up)("ion-grid");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",null,[(0,r.Wm)(d,{lines:"none"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{class:"ion-text-center ion-padding-top animate__animated animate__flipInX"},{default:(0,r.w5)((()=>[(0,r._)("h1",M,(0,o.zw)(t.word),1)])),_:1})])),_:1})]),(0,r.Wm)(f,{class:"animate__animated animate__delay-1s animate__flipInX",style:{"--animate-delay":"0.5s"}},{default:(0,r.w5)((()=>[(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.options,(e=>((0,r.wg)(),(0,r.j4)(c,{size:"6",class:"ion-text-center",key:e},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{onClick:n=>t.checkAnswer(e),fill:"outline",class:"ion-text-wrap h-auto",expand:"block"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e),1)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1})])}const I=(0,r.aZ)({name:"QuizMode",components:{IonGrid:u.jY,IonRow:u.Nd,IonCol:u.wI,IonButton:u.YG,IonLabel:u.Q$,IonItem:u.Ie},emits:["correct","wrong"],props:{word:{type:String,required:!0},solution:{type:String,required:!0},answers:{type:Array,required:!0}},data(){return{options:[]}},mounted(){this.options=[...this.$props.answers],this.options.sort((()=>Math.random()-.5))},methods:{async checkAnswer(t){const e=t.toLowerCase().trim(),n=this.$props.solution.toLowerCase().trim();if(e===n)this.$emit("correct");else{const t=await u.Cl.create({header:(0,h.i)().t("Wrong"),message:(0,h.i)().t("The correct answer is <b>x</b>",{x:this.$props.solution}),buttons:[{text:(0,h.i)().t("Okay"),role:"confirm",handler:()=>{this.$emit("wrong")}}]});await t.present()}}}}),x=(0,w.Z)(I,[["render",W],["__scopeId","data-v-b77a1568"]]),b=x;var k=n(2201),D=n(6065),S=n(7484),C=n.n(S);function A(t,e){var n,r,o;return e>=3?0===t.repetition?(n=1,r=1):1===t.repetition?(n=6,r=2):(n=Math.round(t.interval*t.efactor),r=t.repetition+1):(n=1,r=0),o=t.efactor+(.1-(5-e)*(.08+.02*(5-e))),o<1.3&&(o=1.3),{interval:n,repetition:r,efactor:o}}var z=n(3093);async function O(t,e){const n=await(0,z.GY)(t.boxId,t.id),{interval:r,repetition:o,efactor:i}=A(n,e?5:0),s=C()(Date.now()).add(r,"day").toISOString();n.interval=r,n.repetition=o,n.efactor=i,n.dueDate=s,await(0,z.li)(n.boxId,n)}async function Y(){const t=await(0,D.ow)(),e=[];for(let n=0;n<t.length;n++){const r=t[n].vocables;for(let t=0;t<r.length;t++)e.push(r[t])}return e.filter((t=>C()(t.dueDate).isBefore(C()(Date.now()))))}const L=(0,r.aZ)({name:"PractisePage",components:{LetterSort:m,TypeMode:y,QuizMode:b,IonHeader:u.Gu,IonToolbar:u.sr,IonTitle:u.wd,IonContent:u.W2,IonPage:u._i,IonCard:u.PM,IonCardHeader:u.Zi,IonCardTitle:u.Dq,IonCardContent:u.FN,IonProgressBar:u.X7,IonFooter:u.fr,IonButton:u.YG},setup(){const t=(0,u.cj)(),e=(0,k.yj)(),n=e.params.id;return{ionRouter:t,id:n}},data(){return{words:[],index:0,activeWordId:"",correct:0,wrong:0,done:!1,activeMode:"LetterSort"}},computed:{currentWord:function(){for(let t=0;t<this.words.length;t++)if(this.words[t].id===this.activeWordId)return this.words[t];return{id:"",native:"",foreign:""}},progress:function(){return this.index/this.words.length}},async mounted(){if(this.id){const t=await(0,D.iz)(this.id);t&&(this.words=t.vocables)}else if(this.words=await Y(),0===this.words.length)return void(this.done=!0);this.restart()},methods:{nextWord(){this.index++,this.index>this.words.length-1?this.done=!0:this.activeWordId=this.words[this.index].id,this.chooseMode()},async correctAnswer(){void 0==this.id&&this.currentWord&&await O(this.currentWord,!0),this.correct++,this.nextWord()},async wrongAnswer(){void 0==this.id&&this.currentWord&&await O(this.currentWord,!1),this.wrong++,this.nextWord()},chooseMode(){const t=Math.random();t<.5?(this.activeMode="LetterSort",this.words[this.index].foreign.length>14&&(this.activeMode=Math.random()<.5?"TypeMode":"QuizMode")):this.activeMode=t<.9?"QuizMode":"TypeMode"},restart(){this.words.sort((()=>Math.random()-.5)),this.index=0,this.activeWordId=this.words[this.index].id,this.correct=0,this.wrong=0,this.done=!1,this.chooseMode()}}}),T=(0,w.Z)(L,[["render",a]]),U=T}}]);
//# sourceMappingURL=224.384f5d65.js.map